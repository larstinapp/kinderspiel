<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Zahlen-Safari - Lerne Zahlen spielerisch!</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div id="app-container">
        <!-- Floating Elements -->
        <div class="background-overlay"></div>

        <header class="main-header">
            <div id="user-display" class="user-badge hidden">
                <div class="avatar-mini-container">
                    <img id="current-user-avatar" src="" alt="Avatar" class="avatar-mini">
                </div>
                <span id="current-user-name">Spieler</span>
            </div>

            <h1 class="game-title">Zahlen-Safari ü¶Å</h1>

            <div id="score-display" class="score-badge hidden">
                <span id="score-value">0</span> <span class="star-icon">‚≠ê</span>
            </div>
        </header>

        <main id="game-area">
            <!-- Profile Selection Screen -->
            <section id="profile-screen" class="game-screen active" aria-label="Profilauswahl">
                <div class="screen-content">
                    <h2>Wer spielt heute?</h2>
                    <div id="profile-list" class="profile-grid">
                        <!-- Profiles injected here -->
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary btn-lg" onclick="game.showCreateProfile()">
                            <span class="icon">‚ûï</span> Neues Profil
                        </button>
                        <button class="btn btn-secondary" onclick="game.showRankings()">
                            <span class="icon">üèÜ</span> Bestenliste
                        </button>
                    </div>
                </div>
            </section>

            <!-- Create Profile Screen -->
            <section id="create-profile-screen" class="game-screen" aria-label="Neues Profil erstellen">
                <div class="screen-content card">
                    <h2>Dein Abenteuer beginnt!</h2>
                    <div class="input-group">
                        <label for="new-profile-name">Wie hei√üt du?</label>
                        <input type="text" id="new-profile-name" placeholder="Name eingeben..." maxlength="12"
                            autocomplete="off">
                    </div>

                    <div class="avatar-ui">
                        <p>W√§hle deinen Begleiter:</p>
                        <div id="avatar-options" class="avatar-grid"></div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="game.createProfile()">Los geht's!</button>
                        <button class="btn btn-text" onclick="game.showProfileScreen()">Zur√ºck</button>
                    </div>
                </div>
            </section>

            <!-- Main Menu / Start Screen -->
            <section id="start-screen" class="game-screen" aria-label="Hauptmen√º">
                <div class="screen-content">
                    <div class="hero-image">
                        <img src="safari_background_1767717575932.png" alt="Safari Landschaft">
                    </div>
                    <h2>W√§hle dein Spiel</h2>
                    <div class="mode-grid">
                        <button class="mode-card" onclick="game.startMode('count')">
                            <div class="mode-icon">ü¶Å</div>
                            <div class="mode-info">
                                <h3>Tiere z√§hlen</h3>
                                <p>Wie viele siehst du?</p>
                            </div>
                        </button>
                        <button class="mode-card" onclick="game.startMode('find')">
                            <div class="mode-icon">üîç</div>
                            <div class="mode-info">
                                <h3>Zahlen finden</h3>
                                <p>Wo ist die Zahl?</p>
                            </div>
                        </button>
                        <button class="mode-card" onclick="game.startMode('comparison')">
                            <div class="mode-icon">‚öñÔ∏è</div>
                            <div class="mode-info">
                                <h3>Vergleichen</h3>
                                <p>Wo ist mehr?</p>
                            </div>
                        </button>
                        <button class="mode-card" onclick="game.startMode('memory')">
                            <div class="mode-icon">üÉè</div>
                            <div class="mode-info">
                                <h3>Memo-Safari</h3>
                                <p>Finde Paare</p>
                            </div>
                        </button>
                    </div>
                    <button class="btn btn-text btn-small" onclick="game.logout()">Anderes Profil w√§hlen</button>
                </div>
            </section>

            <!-- Ranking Screen -->
            <section id="ranking-screen" class="game-screen" aria-label="Bestenliste">
                <div class="screen-content card">
                    <h2>üèÜ Safari-Champions</h2>
                    <div id="ranking-list" class="ranking-list"></div>
                    <button class="btn btn-primary" onclick="game.showProfileScreen()">Toll!</button>
                </div>
            </section>

            <!-- Game Mode: Count -->
            <section id="count-screen" class="game-screen game-mode" aria-label="Spiel: Tiere z√§hlen">
                <div class="question-header">
                    <h2 class="question-text">Wie viele Tiere siehst du?</h2>
                </div>
                <div id="animal-display" class="game-stage animal-stage"></div>
                <div id="answer-options" class="options-bar"></div>
            </section>

            <!-- Game Mode: Find -->
            <section id="find-screen" class="game-screen game-mode" aria-label="Spiel: Zahlen finden">
                <div class="question-header">
                    <h2 class="question-text">Finde die Zahl <span id="target-number" class="highlight-number">?</span>
                    </h2>
                </div>
                <div id="find-options" class="game-stage options-grid-large"></div>
            </section>

            <!-- Game Mode: Comparison -->
            <section id="comparison-screen" class="game-screen game-mode" aria-label="Spiel: Vergleichen">
                <div class="question-header">
                    <h2 class="question-text">Wo sind mehr Tiere?</h2>
                </div>
                <div class="comparison-stage">
                    <button id="compare-left" class="compare-card" onclick="game.checkComparison('left')"></button>
                    <div class="vs-badge">VS</div>
                    <button id="compare-right" class="compare-card" onclick="game.checkComparison('right')"></button>
                </div>
            </section>

            <!-- Game Mode: Memory -->
            <section id="memory-screen" class="game-screen game-mode" aria-label="Spiel: Memory">
                <div class="question-header">
                    <h2 class="question-text">Finde die Paare!</h2>
                </div>
                <div id="memory-grid" class="memory-board"></div>
            </section>

        </main>

        <footer class="game-footer">
            <button id="back-button" class="btn btn-icon hidden" onclick="game.showStartScreen()"
                aria-label="Zur√ºck zum Men√º">
                üè† Men√º
            </button>
        </footer>

        <!-- Overlays -->
        <div id="feedback-overlay" class="overlay hidden">
            <div class="feedback-content">
                <div id="feedback-animation-container"></div>
                <span id="feedback-emoji" class="emoji-large"></span>
                <p id="feedback-message" class="message-large"></p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="game.js"></script>
</body>

</html>